{"version":3,"sources":["../static/js/0.dcf2053e.chunk.js","components/table/User.jsx","components/table/UserTable.js","components/table/UserForm.js"],"names":["webpackJsonp","1294","module","exports","__webpack_require__","Object","defineProperty","value","_form","_form2","_interopRequireDefault","_button","_button2","_row","_row2","_col","_col2","_icon","_icon2","_notification2","_notification3","_layout","_layout2","_input","_input2","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","Search","FtableEX","Content","Footer","Header","componentWillMount","getData","checkChange","selectedRowKeys","console","log","setState","onDelete","userdata","state","removeUser","catchIndex","then","data","success","cmd","delplace","editClick","form","index","roles","setFieldsValue","id","username","password","loginname","desc","visible","tableRowKey","isUpdate","saveFormRef","handleCancel","handleUpdate","validateFields","err","values","rolesinfo","editUser","resetFields","replace","olduserdata","error","CreateItem","handleCreate","addUser","onChangeUserName","e","inname","onSearchUserName","val","filter","item","indexOf","loading","getUserList","this","className","gutter","sm","placeholder","prefix","type","onChange","onSearch","enterButton","style","margin","onClick","dataSource","ref","onCancel","onCreate","title","okText","Component","mapStateToProps","ownProps","userrole","Ftable","create","connect","1295","_table","_table2","_popconfirm","_popconfirm2","UserTable","rowSelection","getCheckboxProps","record","disabled","colums","dataIndex","width","render","text","onConfirm","columns","bordered","scroll","x","rowKey","1296","_modal","_modal2","_select","_select2","FormItem","Item","Option","UserFormEx","getuserroles","roledata","setOptions","arr","map","dataref","rolename","handleChange","option","userroles","push","setuserroles","getFieldDecorator","FormItemLayout","labelCol","span","wrapperCol","onOk","layout","label","hasFeedback","display","rules","required","message","showSearch","optionFilterProp","mode","filterOption","input","children","toLowerCase","mapDispatchToProps","UserForm"],"mappings":"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","file":"static/js/0.dcf2053e.chunk.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 1294:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _form=__webpack_require__(26);var _form2=_interopRequireDefault(_form);var _button=__webpack_require__(32);var _button2=_interopRequireDefault(_button);var _row=__webpack_require__(41);var _row2=_interopRequireDefault(_row);var _col=__webpack_require__(42);var _col2=_interopRequireDefault(_col);var _icon=__webpack_require__(8);var _icon2=_interopRequireDefault(_icon);var _notification2=__webpack_require__(59);var _notification3=_interopRequireDefault(_notification2);var _layout=__webpack_require__(28);var _layout2=_interopRequireDefault(_layout);var _input=__webpack_require__(37);var _input2=_interopRequireDefault(_input);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();__webpack_require__(27);__webpack_require__(36);__webpack_require__(43);__webpack_require__(44);__webpack_require__(22);__webpack_require__(60);__webpack_require__(29);__webpack_require__(35);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _request=__webpack_require__(19);var _ComFun=__webpack_require__(39);var _UserTable=__webpack_require__(1295);var _UserTable2=_interopRequireDefault(_UserTable);var _UserForm=__webpack_require__(1296);var _UserForm2=_interopRequireDefault(_UserForm);var _reactRedux=__webpack_require__(137);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Search=_input2.default.Search;var Content=_layout2.default.Content,Footer=_layout2.default.Footer,Header=_layout2.default.Header;var FtableEX=function(_Component){_inherits(FtableEX,_Component);function FtableEX(props){_classCallCheck(this,FtableEX);var _this=_possibleConstructorReturn(this,(FtableEX.__proto__||Object.getPrototypeOf(FtableEX)).call(this,props));_this.componentWillMount=function(){//渲染前获取用户数据\n_this.getData();};_this.checkChange=function(selectedRowKeys){//被选中的index数组,可循环使用里面的数据\nconsole.log(selectedRowKeys);_this.setState({selectedRowKeys:selectedRowKeys});};_this.onDelete=function(key){console.log(key);var userdata=_this.state.userdata;//请求后台数据删除相关数据\n(0,_request.removeUser)(userdata[(0,_ComFun.catchIndex)(userdata,key)]).then(function(data){console.log(data.data);if(data.data.data==1){_notification3.default.success({\"message\":data.data.cmd});//成功信息\n_this.setState({userdata:(0,_ComFun.delplace)(userdata,key)});}});};_this.editClick=function(key){var form=_this.form;var userdata=_this.state.userdata;var index=(0,_ComFun.catchIndex)(userdata,key);console.log(index);var roles=[];if(userdata[index].roles){roles=userdata[index].roles;}form.setFieldsValue({id:key,username:userdata[index].username,password:userdata[index].password,loginname:userdata[index].loginname,desc:userdata[index].desc,roles:roles});_this.setState({visible:true,tableRowKey:key,isUpdate:true});};_this.saveFormRef=function(form){_this.form=form;};_this.handleCancel=function(){_this.setState({visible:false});};_this.handleUpdate=function(){//更新相关数据\nvar form=_this.form;var _this$state=_this.state,userdata=_this$state.userdata,tableRowKey=_this$state.tableRowKey;console.log(_this.props.roles);form.validateFields(function(err,values){if(err){return;}//向数据库发送请求更新数据\nvalues.rolesinfo=_this.props.roles;(0,_request.editUser)(values).then(function(data){//更新数据库中数据\nconsole.log(data.data.data);if(data.data.data==1){form.resetFields();//前台更新相应数据\n_notification3.default.success({\"message\":data.data.cmd});//成功信息\n_this.setState({visible:false,userdata:(0,_ComFun.replace)(userdata,tableRowKey,values),olduserdata:(0,_ComFun.replace)(userdata,tableRowKey,values)});}else{_notification3.default.error({\"message\":data.data.cmd});//失败信息\n}});});};_this.CreateItem=function(){_this.setState({visible:true,isUpdate:false});var form=_this.form;form.resetFields();};_this.handleCreate=function(){var form=_this.form;console.log(_this.props.roles);//创建用户信息\nform.validateFields(function(err,values){if(err){return;}values.rolesinfo=_this.props.roles;(0,_request.addUser)(values).then(function(data){//更新数据库中数据\nconsole.log(data.data.data);if(data.data.data==1){form.resetFields();//前台更新相应数据\n_notification3.default.success({\"message\":data.data.cmd});//成功信息\n_this.getData();}else{_notification3.default.error({\"message\":data.data.cmd});//失败信息\n}});});_this.setState({visible:false,isUpdate:false});};_this.onChangeUserName=function(e){// console.log(\"改变数据\");\nvar value=e.target.value;_this.setState({inname:value});};_this.onSearchUserName=function(val){var olduserdata=_this.state.olduserdata;_this.setState({userdata:olduserdata.filter(function(item){return item.username.indexOf(val)!==-1;}),//过滤数据\nloading:false});};_this.getData=function(){_this.setState({loading:true});(0,_request.getUserList)().then(function(data){_this.setState({userdata:data.data.data,loading:false,olduserdata:data.data.data});});};_this.state={userdata:[],olduserdata:[],loading:true,selectedRowKeys:[],tableRowKey:0,isUpdate:false,visible:false,inname:''};return _this;}//单选框改变选择\n//单个删除\n//点击修改\n//接受新建表单数据\n//点击创建用户\n//创建用户信息\n_createClass(FtableEX,[{key:\"render\",value:function render(){var _state=this.state,inname=_state.inname,userdata=_state.userdata,visible=_state.visible,isUpdate=_state.isUpdate,loading=_state.loading;return _react2.default.createElement(\"div\",null,_react2.default.createElement(\"div\",{className:\"formBody\"},_react2.default.createElement(\"div\",null,_react2.default.createElement(_row2.default,{gutter:16,className:\"gutter\"},_react2.default.createElement(_col2.default,{className:\"gutter-row\",sm:8},_react2.default.createElement(Search,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u7684\\u7528\\u6237\\u540D\",prefix:_react2.default.createElement(_icon2.default,{type:\"user\"}),value:inname,onChange:this.onChangeUserName,onSearch:this.onSearchUserName,enterButton:true})))),_react2.default.createElement(\"div\",{style:{margin:\"20px 0px 0px 0px\"}},_react2.default.createElement(_row2.default,{gutter:16,className:\"gutter\"},_react2.default.createElement(_col2.default,{className:\"gutter-row\",sm:8},_react2.default.createElement(_button2.default,{type:\"primary\",onClick:this.CreateItem},_react2.default.createElement(_icon2.default,{type:\"plus-circle\"}),\"\\u65B0\\u5EFA\")))),_react2.default.createElement(\"div\",{style:{margin:\"20px 0px 0px 0px\"}},_react2.default.createElement(_UserTable2.default,{dataSource:userdata,checkChange:this.checkChange,onDelete:this.onDelete,editClick:this.editClick,loading:loading}),isUpdate?_react2.default.createElement(_UserForm2.default,{ref:this.saveFormRef,visible:visible,onCancel:this.handleCancel,onCreate:this.handleUpdate,title:\"\\u4FEE\\u6539\\u7528\\u6237\\u4FE1\\u606F\",okText:\"\\u66F4\\u65B0\"}):_react2.default.createElement(_UserForm2.default,{ref:this.saveFormRef,visible:visible,onCancel:this.handleCancel,onCreate:this.handleCreate,title:\"\\u65B0\\u5EFA\\u7528\\u6237\\u4FE1\\u606F\",okText:\"\\u521B\\u5EFA\"}))));}}]);return FtableEX;}(_react.Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{roles:state.userrole.roles};};var Ftable=_form2.default.create()((0,_reactRedux.connect)(mapStateToProps)(FtableEX));exports.default=Ftable;\n\n/***/ }),\n\n/***/ 1295:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _table=__webpack_require__(45);var _table2=_interopRequireDefault(_table);var _popconfirm=__webpack_require__(73);var _popconfirm2=_interopRequireDefault(_popconfirm);var _icon=__webpack_require__(8);var _icon2=_interopRequireDefault(_icon);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();__webpack_require__(46);__webpack_require__(75);__webpack_require__(22);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserTable=function(_Component){_inherits(UserTable,_Component);function UserTable(props){_classCallCheck(this,UserTable);return _possibleConstructorReturn(this,(UserTable.__proto__||Object.getPrototypeOf(UserTable)).call(this,props));}_createClass(UserTable,[{key:'render',value:function render(){var _props=this.props,checkChange=_props.checkChange,onDelete=_props.onDelete,editClick=_props.editClick,dataSource=_props.dataSource,loading=_props.loading;var rowSelection={onChange:checkChange,getCheckboxProps:function getCheckboxProps(record){return{disabled:record.username==='Disabled User'// Column configuration not to be checked\n};}};var colums=[{title:'姓名',dataIndex:'username',width:100},{title:'又名',dataIndex:'loginname',width:100},{title:'密码',dataIndex:'password',width:100},{title:'人员描述',dataIndex:'desc',width:100},{title:'操作',dataIndex:'opera',width:100,render:function render(text,record){return _react2.default.createElement('div',{className:'opera'},_react2.default.createElement('span',{onClick:function onClick(){return editClick(record.id);}},_react2.default.createElement('a',null,_react2.default.createElement(_icon2.default,{type:'edit'}),' \\u4FEE\\u6539')),'\\xA0\\xA0\\xA0\\xA0',_react2.default.createElement('span',null,_react2.default.createElement(_popconfirm2.default,{title:'\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u5417?',onConfirm:function onConfirm(){return onDelete(record.id);}},_react2.default.createElement('a',null,_react2.default.createElement(_icon2.default,{type:'minus-square-o'}),' \\u5220\\u9664 '))));}}];return _react2.default.createElement(_table2.default,{rowSelection:rowSelection,columns:colums,dataSource:dataSource,loading:loading,bordered:true,scroll:{x:'100%'},className:'UserTable',rowKey:'id'});}}]);return UserTable;}(_react.Component);exports.default=UserTable;\n\n/***/ }),\n\n/***/ 1296:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _modal=__webpack_require__(61);var _modal2=_interopRequireDefault(_modal);var _input=__webpack_require__(37);var _input2=_interopRequireDefault(_input);var _select=__webpack_require__(72);var _select2=_interopRequireDefault(_select);var _form=__webpack_require__(26);var _form2=_interopRequireDefault(_form);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();__webpack_require__(62);__webpack_require__(35);__webpack_require__(74);__webpack_require__(27);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _request=__webpack_require__(19);var _actions=__webpack_require__(156);var _reactRedux=__webpack_require__(137);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=_form2.default.Item;var Option=_select2.default.Option;var UserFormEx=function(_Component){_inherits(UserFormEx,_Component);function UserFormEx(props){_classCallCheck(this,UserFormEx);var _this=_possibleConstructorReturn(this,(UserFormEx.__proto__||Object.getPrototypeOf(UserFormEx)).call(this,props));_this.componentWillMount=function(){//加载角色数据\n(0,_request.getuserroles)().then(function(data){_this.setState({roledata:data.data.data});});};_this.setOptions=function(arr){return arr.map(function(item){return _react2.default.createElement(Option,{value:item.id,key:item.id,dataref:item},item.rolename);});};_this.handleChange=function(value,option){console.log(value);console.log(option);var userroles=[];option.map(function(item){userroles.push(item.props.dataref);});_this.props.setuserroles(userroles);};_this.state={roledata:[]};return _this;}_createClass(UserFormEx,[{key:'render',value:function render(){var _props=this.props,visible=_props.visible,onCancel=_props.onCancel,onCreate=_props.onCreate,form=_props.form,okText=_props.okText,title=_props.title;var roledata=this.state.roledata;var getFieldDecorator=form.getFieldDecorator;var FormItemLayout={labelCol:{span:5},wrapperCol:{span:16}};return _react2.default.createElement(_modal2.default,{visible:visible,title:title,okText:okText,onCancel:onCancel,onOk:onCreate},_react2.default.createElement(_form2.default,{layout:'horizontal'},_react2.default.createElement(FormItem,Object.assign({label:'\\u4E3B\\u952E'},FormItemLayout,{hasFeedback:true,style:{display:\"none\"}}),getFieldDecorator('id',{rules:[{required:false,message:'请输入主键！'}]})(_react2.default.createElement(_input2.default,null))),_react2.default.createElement(FormItem,Object.assign({label:'\\u59D3\\u540D'},FormItemLayout,{hasFeedback:true}),getFieldDecorator('username',{rules:[{required:true,message:'请输入姓名！'}]})(_react2.default.createElement(_input2.default,null))),_react2.default.createElement(FormItem,Object.assign({label:'\\u5BC6\\u7801'},FormItemLayout,{hasFeedback:true}),getFieldDecorator('password',{rules:[{required:true,message:'请输入密码！'}]})(_react2.default.createElement(_input2.default,null))),_react2.default.createElement(FormItem,Object.assign({label:'\\u7528\\u6237\\u89D2\\u8272'},FormItemLayout,{hasFeedback:true}),getFieldDecorator('roles',{rules:[{required:true,message:'请输入用户角色！'}]})(_react2.default.createElement(_select2.default,{showSearch:true,placeholder:'\\u8BF7\\u9009\\u62E9\\u89D2\\u8272',optionFilterProp:'children',onChange:this.handleChange,mode:'multiple',filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},this.setOptions(roledata)))),_react2.default.createElement(FormItem,Object.assign({label:'\\u53C8\\u540D'},FormItemLayout,{hasFeedback:true}),getFieldDecorator('loginname',{rules:[{required:false,message:'请输入！'}]})(_react2.default.createElement(_input2.default,null))),_react2.default.createElement(FormItem,Object.assign({label:'\\u4EBA\\u5458\\u63CF\\u8FF0'},FormItemLayout,{hasFeedback:true}),getFieldDecorator('desc',{rules:[{required:false,message:'请输入密码！'}]})(_react2.default.createElement(_input2.default,null)))));}}]);return UserFormEx;}(_react.Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{roles:state.userrole.roles};};var mapDispatchToProps={setuserroles:_actions.setuserroles};var UserForm=_form2.default.create()((0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(UserFormEx));exports.default=UserForm;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.dcf2053e.chunk.js","import React, {Component} from \"react\"\r\nimport {Table, Icon, Popconfirm, Form, notification, Row, Col, Input, Layout, Button} from 'antd';\r\nimport {getUserList, editUser, removeUser, addUser} from \"../../request/request\";\r\nimport {catchIndex, replace, delplace} from \"../../comfunction/ComFun\"\r\n\r\nimport UserTable from \"./UserTable\"\r\nimport UserForm from \"./UserForm\"\r\nimport {connect} from \"react-redux\";\r\n\r\nconst Search = Input.Search;\r\nconst {Content, Footer, Header} = Layout;\r\n\r\n class FtableEX extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userdata: [],\r\n            olduserdata: [],\r\n            loading: true,\r\n            selectedRowKeys: [],\r\n            tableRowKey: 0,\r\n            isUpdate: false,\r\n            visible: false,\r\n            inname: ''\r\n        }\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        //渲染前获取用户数据\r\n        this.getData();\r\n    }\r\n\r\n    //单选框改变选择\r\n    checkChange = (selectedRowKeys) => {\r\n        //被选中的index数组,可循环使用里面的数据\r\n        console.log(selectedRowKeys);\r\n        this.setState({selectedRowKeys: selectedRowKeys});\r\n    };\r\n    //单个删除\r\n    onDelete = (key) => {\r\n        console.log(key);\r\n        const {userdata} = this.state\r\n        //请求后台数据删除相关数据\r\n        removeUser(userdata[catchIndex(userdata, key)]).then(data => {\r\n            console.log(data.data);\r\n            if (data.data.data == 1) {\r\n                notification.success({\"message\": data.data.cmd});//成功信息\r\n                this.setState({\r\n                    userdata: delplace(userdata, key)\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    //点击修改\r\n    editClick = (key) => {\r\n        const form = this.form;\r\n        const {userdata} = this.state;\r\n        const index = catchIndex(userdata, key);\r\n        console.log(index);\r\n        let roles=[];\r\n        if (userdata[index].roles){\r\n            roles=userdata[index].roles\r\n        }\r\n        form.setFieldsValue({\r\n            id: key,\r\n            username: userdata[index].username,\r\n            password: userdata[index].password,\r\n            loginname: userdata[index].loginname,\r\n            desc: userdata[index].desc,\r\n            roles:roles\r\n        });\r\n        this.setState({\r\n            visible: true,\r\n            tableRowKey: key,\r\n            isUpdate: true,\r\n        });\r\n    };\r\n\r\n    //接受新建表单数据\r\n    saveFormRef = (form) => {\r\n        this.form = form;\r\n    };\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: false\r\n        })\r\n    }\r\n\r\n    handleUpdate = () => {\r\n        //更新相关数据\r\n        const form = this.form;\r\n        const {userdata, tableRowKey} = this.state\r\n        console.log(this.props.roles)\r\n        form.validateFields((err, values) => {\r\n            if (err) {\r\n                return;\r\n            }\r\n            //向数据库发送请求更新数据\r\n            values.rolesinfo=this.props.roles\r\n            editUser(values).then(data => {\r\n                //更新数据库中数据\r\n                console.log(data.data.data);\r\n                if (data.data.data == 1) {\r\n                    form.resetFields();\r\n                    //前台更新相应数据\r\n                    notification.success({\"message\": data.data.cmd});//成功信息\r\n                    this.setState({\r\n                        visible: false,\r\n                        userdata: replace(userdata, tableRowKey, values),\r\n                        olduserdata: replace(userdata, tableRowKey, values)\r\n                    });\r\n                } else {\r\n                    notification.error({\"message\": data.data.cmd});//失败信息\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n    }\r\n    //点击创建用户\r\n    CreateItem = () => {\r\n        this.setState({\r\n            visible: true,\r\n            isUpdate: false,\r\n        });\r\n        const form = this.form;\r\n        form.resetFields();\r\n    }\r\n    //创建用户信息\r\n    handleCreate = () => {\r\n        const form = this.form;\r\n        console.log(this.props.roles)\r\n        //创建用户信息\r\n        form.validateFields((err, values) => {\r\n            if (err) {\r\n                return;\r\n            }\r\n            values.rolesinfo=this.props.roles\r\n            addUser(values).then(data=>{\r\n                //更新数据库中数据\r\n                console.log(data.data.data);\r\n                if (data.data.data == 1) {\r\n                    form.resetFields();\r\n                    //前台更新相应数据\r\n                    notification.success({\"message\": data.data.cmd});//成功信息\r\n                    this.getData();\r\n                }else {\r\n                    notification.error({\"message\": data.data.cmd});//失败信息\r\n                }\r\n            });\r\n        });\r\n        this.setState({\r\n            visible: false,\r\n            isUpdate: false,\r\n        });\r\n    }\r\n    onChangeUserName = (e) => {\r\n        // console.log(\"改变数据\");\r\n        const value = e.target.value;\r\n        this.setState({\r\n            inname: value\r\n        });\r\n    }\r\n    onSearchUserName = (val) => {\r\n        const {olduserdata} = this.state;\r\n        this.setState({\r\n            userdata: olduserdata.filter(item => item.username.indexOf(val) !== -1),//过滤数据\r\n            loading: false,\r\n        })\r\n    }\r\n\r\n    getData = () => {\r\n        this.setState({\r\n            loading: true,\r\n        });\r\n        getUserList().then(data => {\r\n            this.setState({\r\n                userdata: data.data.data,\r\n                loading: false,\r\n                olduserdata: data.data.data\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {inname, userdata, visible, isUpdate, loading} = this.state;\r\n        return (\r\n            <div>\r\n                <div className='formBody'>\r\n                    <div>\r\n                        <Row gutter={16} className=\"gutter\">\r\n                            <Col className=\"gutter-row\" sm={8}>\r\n                                <Search\r\n                                    placeholder=\"请输入搜索的用户名\"\r\n                                    prefix={<Icon type=\"user\"/>}\r\n                                    value={inname}\r\n                                    onChange={this.onChangeUserName}\r\n                                    onSearch={this.onSearchUserName}\r\n                                    enterButton\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                    <div style={{margin: \"20px 0px 0px 0px\"}}>\r\n                        <Row gutter={16} className=\"gutter\">\r\n                            <Col className=\"gutter-row\" sm={8}>\r\n                                <Button type=\"primary\" onClick={this.CreateItem}>\r\n                                    <Icon type=\"plus-circle\"/>新建</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                    <div style={{margin: \"20px 0px 0px 0px\"}}>\r\n                        <UserTable\r\n                            dataSource={userdata}\r\n                            checkChange={this.checkChange}\r\n                            onDelete={this.onDelete}\r\n                            editClick={this.editClick}\r\n                            loading={loading}\r\n                        />\r\n                        {isUpdate ?\r\n                            <UserForm ref={this.saveFormRef} visible={visible} onCancel={this.handleCancel}\r\n                                      onCreate={this.handleUpdate} title=\"修改用户信息\" okText=\"更新\"\r\n                            /> : <UserForm ref={this.saveFormRef} visible={visible} onCancel={this.handleCancel}\r\n                                           onCreate={this.handleCreate} title=\"新建用户信息\" okText=\"创建\"\r\n                            />}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        roles: state.userrole.roles\r\n    }\r\n};\r\nconst Ftable = Form.create()(connect(mapStateToProps)(FtableEX));\r\nexport default Ftable;\n\n\n// WEBPACK FOOTER //\n// ./src/components/table/User.jsx","import React, {Component} from \"react\"\r\nimport {Table, Icon, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\n\r\n\r\nexport default class UserTable extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n\r\n    render() {\r\n        const {checkChange, onDelete, editClick, dataSource, loading} = this.props;\r\n        const rowSelection = {\r\n            onChange: checkChange,\r\n            getCheckboxProps: record => ({\r\n                disabled: record.username === 'Disabled User', // Column configuration not to be checked\r\n            }),\r\n        };\r\n        const colums = [{\r\n            title: '姓名',\r\n            dataIndex: 'username',\r\n            width: 100,\r\n        }, {\r\n            title: '又名',\r\n            dataIndex: 'loginname',\r\n            width: 100,\r\n        }, {\r\n            title: '密码',\r\n            dataIndex: 'password',\r\n            width: 100,\r\n        }, {\r\n            title: '人员描述',\r\n            dataIndex: 'desc',\r\n            width: 100,\r\n        }, {\r\n            title: '操作',\r\n            dataIndex: 'opera',\r\n            width: 100,\r\n            render: (text, record) =>\r\n                <div className='opera'>\r\n                    <span onClick={() => editClick(record.id)}>\r\n                         <a><Icon type=\"edit\"/> 修改</a>\r\n                    </span>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;\r\n                    <span><Popconfirm title=\"确定要删除吗?\" onConfirm={() => onDelete(record.id)}><a><Icon\r\n                        type=\"minus-square-o\"/> 删除 </a></Popconfirm></span>\r\n                </div>\r\n        }];\r\n        return (\r\n                <Table\r\n                    rowSelection={rowSelection}\r\n                    columns={colums}\r\n                    dataSource={dataSource}\r\n                    loading={loading}\r\n                    bordered={true}\r\n                    scroll={{x: '100%'}}\r\n                    className='UserTable'\r\n                    rowKey=\"id\"\r\n                />\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/table/UserTable.js","import React, {Component} from \"react\"\r\nimport {Modal, Form, Input,Select} from 'antd';\r\nimport moment from 'moment';\r\nimport {getuserroles, takecptreemenus} from \"../../request/request\";\r\nimport {setuserroles} from \"../../redux/actions/actions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst FormItem = Form.Item;\r\n\r\nconst Option = Select.Option;\r\nclass UserFormEx extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            roledata:[]\r\n        }\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        //加载角色数据\r\n        getuserroles().then(data => {\r\n            this.setState({\r\n                roledata: data.data.data\r\n            })\r\n        })\r\n    }\r\n\r\n    setOptions = (arr) => {\r\n        return arr.map((item) => {\r\n            return (\r\n                <Option value={item.id} key={item.id} dataref={item}>{item.rolename}</Option>);\r\n        });\r\n    }\r\n\r\n    handleChange = (value,option) => {\r\n        console.log(value);\r\n        console.log(option)\r\n        let userroles=[];\r\n        option.map(item=>{\r\n            userroles.push(item.props.dataref)\r\n        })\r\n        this.props.setuserroles(userroles)\r\n    }\r\n\r\n    render() {\r\n        const {visible, onCancel, onCreate, form, okText, title} = this.props;\r\n        const {roledata}=this.state;\r\n        const { getFieldDecorator } = form;\r\n        const FormItemLayout = {\r\n            labelCol: {span: 5},\r\n            wrapperCol: {span: 16},\r\n        };\r\n        return (\r\n            <Modal\r\n                visible={visible}\r\n                title={title}\r\n                okText={okText}\r\n                onCancel={onCancel}\r\n                onOk={onCreate}\r\n            >\r\n                <Form layout=\"horizontal\">\r\n                    <FormItem label=\"主键\" {...FormItemLayout} hasFeedback style={{display:\"none\"}}>\r\n                        {getFieldDecorator('id', {\r\n                            rules: [{required: false, message: '请输入主键！'}],\r\n                        })(\r\n                            <Input/>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem label=\"姓名\" {...FormItemLayout} hasFeedback>\r\n                        {getFieldDecorator('username', {\r\n                            rules: [{required: true, message: '请输入姓名！'}],\r\n                        })(\r\n                            <Input/>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem label=\"密码\" {...FormItemLayout} hasFeedback>\r\n                        {getFieldDecorator('password', {\r\n                            rules: [{required: true, message: '请输入密码！'}],\r\n                        })(\r\n                            <Input/>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem label=\"用户角色\" {...FormItemLayout} hasFeedback>\r\n                        {getFieldDecorator('roles', {\r\n                            rules: [{required: true, message: '请输入用户角色！'}],\r\n                        })(\r\n                            <Select\r\n                                showSearch\r\n                                placeholder=\"请选择角色\"\r\n                                optionFilterProp=\"children\"\r\n                                onChange={this.handleChange}\r\n                                mode=\"multiple\"\r\n                                filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n                            >\r\n                                {this.setOptions(roledata)}\r\n                            </Select>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem label=\"又名\" {...FormItemLayout} hasFeedback>\r\n                        {getFieldDecorator('loginname', {\r\n                            rules: [{required: false, message: '请输入！'}],\r\n                        })(\r\n                            <Input/>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem label=\"人员描述\" {...FormItemLayout} hasFeedback>\r\n                        {getFieldDecorator('desc', {\r\n                            rules: [{required: false, message: '请输入密码！'}],\r\n                        })(\r\n                            <Input/>\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        roles: state.userrole.roles\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setuserroles\r\n};\r\n\r\nconst UserForm = Form.create()(connect(mapStateToProps, mapDispatchToProps)(UserFormEx));\r\nexport default UserForm;\n\n\n// WEBPACK FOOTER //\n// ./src/components/table/UserForm.js"],"sourceRoot":""}